name: tap-google-analytics
namespace: tap_google_analytics
label: Google Analytics
logo_url: /assets/images/datasource/tap-google-analytics.svg
description: |-
  App and website analytics platform hosted by Google

  ## Prerequisites

  Before importing data from Google Analytics you or your webmaster will need to have performed some initial setup to grant
  yourself access to the Google Analytics for your website.

  [Google Analytics Prerequisites](${docsBaseUrl}/data-sources/tap-google-analytics/prerequisites)

  ## Data source settings
  ### View ID

  Once you have connected with your google account, the `View ID` drop down will allow you to choose which view you want to get your data from.

  ### Start Date

  Providing a start date allows you to set how much historical data you wish to import into you workspace.

  This date has to be in the ISO-8601 date format, see the example below.

  Format: `YYYY-MM-DDTHH:MM:SSZ`

  Example: `2020-10-01T13:12:11Z`

  ### End Date

  Providing an end date allows you to limit how much data you wish to import into you workspace.

  This date has to be in the ISO-8601 date format, see the example below.

  Format: `YYYY-MM-DDTHH:MM:SSZ`

  Example: `2020-10-01T13:12:11Z`

  ### Reports

  Providing the path to a reports json file allows you to supply the tap with a user defined definition of tables and information you want to sync from Google Analytics.
  This does require you to commit a file to your workspace repository so that Google Analytics can find it during run time, and may also break the dbt transforms that are required to have our included datasets work.
  For more information on how to define a custom reports file see the [Meltano Hub Documentation](https://hub.meltano.com/extractors/google-analytics#reports).

  ## Learn more

  [Matatika Google Analytics Data Source Documentation](${docsBaseUrl}/data-sources/tap-google-analytics)

  [Meltano Hub Google Analytics Documentation](https://hub.meltano.com/extractors/google-analytics)

variant: matatika
docs: ${docsBaseUrl}/data-sources/tap-google-analytics/
repo: https://github.com/Matatika/tap-google-analytics
pip_url: git+https://github.com/Matatika/tap-google-analytics@v0.3.0
capabilities:
  - catalog
  - discover
  - state
settings:
  - name: oauth_credentials.authorization_url
    kind: hidden
    label: OAuth identity provider authorization endpoint used create and refresh tokens
    value: https://oauth2.googleapis.com/token
    required: true
  - name: oauth_credentials.scope
    kind: hidden
    label: OAuth scopes we need to request access to
    value: profile email https://www.googleapis.com/auth/analytics.readonly
    required: true
  - name: oauth_credentials.access_token
    kind: hidden
    label: Access Token
    required: true
  - name: oauth_credentials.refresh_token
    kind: hidden
    label: OAuth Refresh Token
    required: true
  - name: oauth_credentials.refresh_proxy_url
    kind: hidden
    label: Optional - will be called with 'oauth_credentials.refresh_token' to refresh the access token
  - name: oauth_credentials.refresh_proxy_url_auth
    kind: hidden
    label: Optional - Sets Authorization header on 'oauth_credentials.refresh_url' request
  - name: oauth_credentials.client_id
    kind: hidden
    label: Optional - OAuth Client ID used if refresh_proxy_url not supplied
  - name: oauth_credentials.client_secret
    kind: hidden
    label: Optional - OAuth Client Secret used if refresh_proxy_url not supplied
  - name: view_id
    label: View ID
    placeholder: Ex. 198343027
    required: true
  - name: reports
    label: Reports
    placeholder: Ex. my_report_definition.json
  - name: start_date
    kind: date_iso8601
  - name: end_date
    kind: date_iso8601
